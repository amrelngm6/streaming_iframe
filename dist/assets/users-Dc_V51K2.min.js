const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["side-form-create-BuwGgrVY.min.js","Close-Sot7sZnH.min.js","index.min.js","index.min.css","Field-DOFSBCww.min.js","Field.min.css","multiselect-Cz0TnkPx.min.js","side-form-update-CIT0b2_w.min.js","form_field-BtTSll35.min.js","ckeditor5-DzaIr0lO.min.js","merge-Djw59nkz.min.js","ckeditor5.min.css","index-BY4BOGpF.min.js","user-D14RxNLk.min.js"])))=>i.map(i=>d[i]);
import{_ as A,r as _,t as E,a as u,o,c as l,h as v,e as d,b as n,d as a,F as k,g as S,j as I,k as R,z as U,n as N,l as x,m as b,p as V,s as O,u as P}from"./index.min.js";const L=x(()=>b(()=>import("./side-form-create-BuwGgrVY.min.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),T=x(()=>b(()=>import("./side-form-update-CIT0b2_w.min.js"),__vite__mapDeps([7,1,2,3,4,5,8,6,9,10,11,12]))),B=x(()=>b(()=>import("./user-D14RxNLk.min.js"),__vite__mapDeps([13,2,3]))),D={components:{SideFormCreate:L,SideFormUpdate:T,user:B},name:"Users",setup(m){const r=m.conf.url+m.path+"?load=json",s=_(!1),e=_(!1),h=_(!1),g=_({}),f=_({});return(()=>{V(r).then(t=>{f.value=JSON.parse(JSON.stringify(t))})})(),{url:r,showUser:s,showAddSide:e,showEditSide:h,content:f,activeItem:g,setActiveStatus:t=>{t.active=!t.active;var i=new URLSearchParams;i.append("type","User.updateStatus"),i.append("params",JSON.stringify(t)),O(i,"/api/update").then(p=>{P(p.result)})},closeSide:()=>{e.value=!1,h.value=!1,s.value=!1},sameRole:(t,i)=>t.role_id==i.role_id,translate:E}},props:["path","langs","setting","conf","auth"]},F={key:0,class:"flex-1 overflow-x-hidden overflow-y-auto w-full"},j={class:"px-4 mb-6 py-4 rounded-lg shadow-md bg-white dark:bg-gray-700 flex w-full"},z=["textContent"],J=["textContent"],q={key:1,class:"w-full"},G={class:"pb-b flex gap-4"},H=["textContent"],K=["textContent"],M={class:"col-md-3 col-sm-6 col-xxl-4"},Q={class:"card"},W={class:"card-body d-flex flex-center flex-column py-9 px-5"},X={class:"symbol symbol-65px symbol-circle mb-5"},Y=["src"],Z={href:"#",class:"fs-4 text-gray-800 text-hover-primary fw-bold mb-0"},$=["textContent"],ee=["textContent"],te={class:"w-full flex gap-4"},ne=["onClick"],oe=["textContent"],se=n("div",{class:"w-full"},null,-1),ae=["onClick"],le=["textContent"];function ce(m,r,s,e,h,g){const f=u("user"),w=u("vue-feather"),y=u("side-form-create"),C=u("side-form-update");return e.content?(o(),l("main",F,[e.showUser?(o(),v(f,{currency:m.currency,key:e.activeItem,onCallback:e.closeSide,fields:e.content.overview,item:e.activeItem,path:s.path,conf:s.conf,auth:s.auth,setting:s.setting},null,8,["currency","onCallback","fields","item","path","conf","auth","setting"])):d("",!0),n("div",j,[n("h1",{class:"font-bold text-lg w-full",textContent:a(e.content.title)},null,8,z),n("a",{href:"javascript:;",class:"menu-dark uppercase p-2 mx-2 text-center text-white w-32 rounded bg-danger",onClick:r[0]||(r[0]=c=>{e.showAddSide=!0,e.activeItem={}}),textContent:a(e.translate("add_new"))},null,8,J)]),e.content&&e.content.roles?(o(),l("div",q,[(o(!0),l(k,null,S(e.content.roles,c=>(o(),l("div",{class:"w-full",key:c.users},[n("h3",G,[n("span",{textContent:a(c.name)},null,8,H),I(),n("span",{class:"pt-2 text-sm text-muted",textContent:a(c.id>1?e.translate("Theese users can manage your account only"):"")},null,8,K)]),(o(),l("div",{class:"row g-6 mb-6 g-xl-9 mb-xl-9",key:c.users},[(o(!0),l(k,null,S(c.users,t=>(o(),l("div",M,[n("div",Q,[n("div",W,[n("div",X,[n("img",{src:t.photo,alt:"image"},null,8,Y)]),n("a",Z,a(t.first_name)+" "+a(t.last_name),1),n("div",{class:"fw-semibold text-gray-500 mb-2",textContent:a(t.email)},null,8,$),t.business?(o(),l("div",{key:0,class:"fw-semibold text-gray-500 mb-6",textContent:a(t.business.business_name)},null,8,ee)):d("",!0),n("div",te,[t.id==s.auth.id||s.auth.role_id==1?(o(),l("button",{key:0,class:"btn btn-sm btn-light btn-flex btn-center gap-4","data-kt-follow-btn":"true",onClick:i=>{e.showEditSide=!0,e.showAddSide=!1,e.activeItem=t}},[R(w,{class:"w-8",type:"edit"}),n("span",{class:"indicator-label",textContent:a(e.translate("Edit"))},null,8,oe)],8,ne)):d("",!0),se,n("div",{class:"mb-4 flex gap gap-2 cursor-pointer flex-end",onClick:i=>e.setActiveStatus(t)},[n("span",{class:U([t.active?"":"bg-inverse-dark","mt-1 bg-red-400 block h-4 relative rounded-full w-8"]),style:{direction:"ltr"}},[n("a",{class:"absolute bg-white block h-4 relative right-0 rounded-full w-4",style:N({left:t.active?"16px":0})},null,4)],2),n("span",{textContent:a(t.active?e.translate("Active"):e.translate("Pending")),class:"font-semibold inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"},null,8,le)],8,ae)])])])]))),256))]))]))),128))])):d("",!0),e.showAddSide&&e.content&&e.content.fillable?(o(),v(y,{key:2,onCallback:e.closeSide,conf:s.conf,model:"User.create",columns:e.content.fillable},null,8,["onCallback","conf","columns"])):d("",!0),e.showEditSide&&!e.showAddSide?(o(),v(C,{key:3,onCallback:e.closeSide,conf:s.conf,model:"User.update",item:e.activeItem,model_id:e.activeItem.id,index:"id",columns:e.content.fillable},null,8,["onCallback","conf","item","model_id","columns"])):d("",!0)])):d("",!0)}const de=A(D,[["render",ce]]);export{de as default};
