const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["side-form-create-BuwGgrVY.min.js","Close-Sot7sZnH.min.js","index.min.js","index.min.css","Field-DOFSBCww.min.js","Field.min.css","multiselect-Cz0TnkPx.min.js","side-form-update-CIT0b2_w.min.js","form_field-BtTSll35.min.js","ckeditor5-DzaIr0lO.min.js","merge-Djw59nkz.min.js","ckeditor5.min.css","index-BY4BOGpF.min.js"])))=>i.map(i=>d[i]);
import{_ as A,r as m,t as u,a as I,o as a,c as s,b as t,k as f,d as o,h as D,e as h,z as x,F as g,g as p,w as C,v as b,l as S,m as T,p as L,at as N,s as j,E as M}from"./index.min.js";import F from"./Close-Sot7sZnH.min.js";import{d as G}from"./trash-D--yMlDB.min.js";import{r as z}from"./route-BPoP-zEA.min.js";import{c as B}from"./car-d1fh6vla.min.js";import{f as H}from"./Field-DOFSBCww.min.js";import{c as J,s as K}from"./color-picker-DXGiKrg2.min.js";import{D as Q}from"./vue3-easy-data-table.es-szI7j7g6.min.js";import{e as W}from"./vue3-tags-input.esm-y86RkIuU.min.js";import"./multiselect-Cz0TnkPx.min.js";import"./merge-Djw59nkz.min.js";const X=S(()=>T(()=>import("./side-form-create-BuwGgrVY.min.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Y=S(()=>T(()=>import("./side-form-update-CIT0b2_w.min.js"),__vite__mapDeps([7,1,2,3,4,5,8,6,9,10,11,12]))),Z=S(()=>T(()=>import("./form_field-BtTSll35.min.js"),__vite__mapDeps([8,1,2,3,4,5,6,9,10,11,12]))),$={components:{datatabble:Q,"vue-medialibrary-field":H,color_picker:J,static_field:K,Vue3TagsInput:W,SideFormCreate:X,SideFormUpdate:Y,close_icon:F,delete_icon:G,car_icon:B,route_icon:z,form_field:Z},name:"Pages",emits:["callback"],setup(y,{emit:d}){const c=m(!1),e=m(!1),i=m({page_id:0,picture:"/uploads/img/placeholder.png",content_langs:{}}),V=m("english"),k=m([]),w=m(u("General")),r=m({}),n=m(!1),l=m([{title:u("Default"),value:"subpage"},{title:u("Fullwidth"),value:"fullwidth"}]),U=m([u("General"),u("SEO")]),P=y.conf.url+y.path+"?load=json",E=()=>{L(P).then(v=>{var _=JSON.parse(JSON.stringify(v));i.value=_.item??i.value,r.value=_,k.value=r.value.categories})};return E(),{getLang:(v,_)=>(i.value.content_langs[_]=v.content_langs[_]??{},i.value.content_langs[_]),showAddPage:c,showEditSide:e,closeSide:()=>{E(),c.value=!1},content:r,templates:l,tabs:U,categories:k,activeItem:i,activeTab:w,translate:u,collapsed:n,seoLang:V,save:()=>{const v=N(i.value);v.field=i.value.field?{class:i.value.field.class}:{};var _=new URLSearchParams;_.append("params",JSON.stringify(v));let O=i.value.page_id&&i.value.page_id>0?"update":"create",q=r.value.model??"Page";_.append("type",q+"."+O),j(_,"/api/"+O).then(R=>{M(R)})},back:()=>{d("callback")}}},props:["conf","path","system_setting","business_setting","langs","setting","item"]},tt={class:"w-full flex overflow-auto"},et={class:"w-full relative"},nt={key:0,id:"kt_app_content_container",class:"app-container container-xxl"},ot={class:"action form d-flex flex-column flex-lg-row"},at={class:"d-flex flex-column gap-7 gap-lg-10 w-100 min-w-80 w-lg-300px mb-7 me-lg-10"},lt={class:"card card-flush py-4"},st={class:"card-header"},ct={class:"card-title"},it=["textContent"],dt={class:"card-body text-center pt-0"},rt={class:"image-input image-input-empty image-input-outline image-input-placeholder mb-3 w-full"},_t=["textContent"],mt={class:"card card-flush py-4"},ht={class:"card-header"},vt={class:"card-title"},ut=["textContent"],ft={class:"card-toolbar"},xt={class:"card-body pt-0"},gt=["textContent"],pt={class:"card card-flush py-4"},Ct={class:"card-header"},bt={class:"card-title"},yt=["textContent"],kt={class:"card-toolbar"},wt={class:"card-body pt-0"},It=["textContent"],St={class:"card card-flush py-4"},Tt={class:"card-header"},Vt={class:"card-title"},Ut=["textContent"],Et={class:"card-body pt-0"},Ot=["textContent"],Pt=["textContent"],qt={class:"card card-flush py-4"},Rt={class:"card-header"},At={class:"card-title"},Dt=["textContent"],Lt={class:"card-body pt-0"},Nt=["textContent"],jt=["textContent"],Mt={class:"d-flex flex-column flex-row-fluid gap-7 gap-lg-10"},Ft={class:"nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-n2"},Gt={class:"nav-item"},zt=["onClick","textContent"],Bt={class:"tab-content"},Ht={key:0,class:"tab-pane fade show active"},Jt={class:"d-flex flex-column gap-7 gap-lg-10"},Kt={class:"card card-flush py-4"},Qt={class:"card-header flex flex-nowrap"},Wt={class:"card-title w-full"},Xt=["textContent"],Yt={class:"flex gap-10 flex-none"},Zt=["onClick"],$t=["src"],te=["textContent"],ee={class:"w-full"},ne={key:0,class:"card-body pt-0"},oe={class:"mb-10 fv-row"},ae={class:"required form-label"},le=["textContent"],se=["textContent"],ce={class:"position-relative flex"},ie=["value"],de=["onUpdate:modelValue"],re=["textContent"],_e={class:"mb-10 fv-row"},me={class:"required form-label"},he=["textContent"],ve=["textContent"],ue=["onUpdate:modelValue"],fe=["textContent"],xe={class:"form-label gap-6 flex"},ge=["textContent"],pe=["textContent"],Ce=["textContent"],be={key:1,class:"tab-pane fade show active"},ye={class:"d-flex flex-column gap-7 gap-lg-10"},ke={class:"w-full"},we={class:"card-header flex flex-nowrap"},Ie={class:"w-full card-title"},Se=["textContent"],Te={class:"flex gap-10 flex-none"},Ve={class:"py-5"},Ue=["onClick"],Ee=["src"],Oe=["textContent"],Pe={key:0,class:"card-body pt-0"},qe={class:"mb-10"},Re=["textContent"],Ae=["placeholder","onUpdate:modelValue"],De=["textContent"],Le={class:"mb-10"},Ne=["textContent"],je=["onUpdate:modelValue"],Me=["textContent"],Fe=["textContent"],Ge=["onUpdate:modelValue"],ze=["textContent"],Be={class:"d-flex justify-content-end"},He=["textContent"],Je=["textContent"];function Ke(y,d,c,e,i,V){const k=I("close_icon"),w=I("vue-medialibrary-field"),r=I("form_field");return a(),s("div",tt,[t("div",et,[f(k,{class:"absolute top-4 right-4 z-10 cursor-pointer",onClick:e.back},null,8,["onClick"]),e.activeItem?(a(),s("div",nt,[t("div",ot,[t("div",at,[t("div",lt,[t("div",st,[t("div",ct,[t("h2",{textContent:o(e.translate("Main picture"))},null,8,it)])]),t("div",dt,[t("div",rt,[c.conf?(a(),D(w,{onChanged:d[0]||(d[0]=n=>{e.activeItem.picture=n}),key:e.activeItem,name:"params[picture]",filepath:e.activeItem.picture??"",api_url:c.conf.url},null,8,["filepath","api_url"])):h("",!0)]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("allowed media types msg"))},null,8,_t)])]),t("div",mt,[t("div",ht,[t("div",vt,[t("h2",{textContent:o(e.translate("Status"))},null,8,ut)]),t("div",ft,[t("div",{class:x([e.activeItem.status=="on"?"bg-success":"bg-danger","rounded-circle w-15px h-15px"])},null,2)])]),t("div",xt,[f(r,{item:e.activeItem,column:{required:!0,key:"status",title:e.translate("status"),column_type:"select",text_key:"title",column_key:"value",data:[{value:null,title:e.translate("Pending")},{value:"on",title:e.translate("Active")}]}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set the item status"))},null,8,gt)])]),t("div",pt,[t("div",Ct,[t("div",bt,[t("h2",{textContent:o(e.translate("Homepage"))},null,8,yt)]),t("div",kt,[t("div",{class:x([e.activeItem.homepage=="on"?"bg-success":"bg-danger","rounded-circle w-15px h-15px"])},null,2)])]),t("div",wt,[f(r,{item:e.activeItem,column:{required:!0,key:"homepage",title:e.translate("homepage"),column_type:"select",text_key:"title",column_key:"value",data:[{value:null,title:e.translate("Sub-page")},{value:"on",title:e.translate("Homepage")}]}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set this page as Homepage"))},null,8,It)])]),t("div",St,[t("div",Tt,[t("div",Vt,[t("h2",{textContent:o(e.translate("Page Template"))},null,8,Ut)])]),t("div",Et,[t("label",{textContent:o(e.translate("Select a item template")),class:"form-label"},null,8,Ot),f(r,{item:e.activeItem,column:{required:!0,key:"template",title:e.translate("Template"),column_type:"select",text_key:"title",column_key:"value",data:e.templates}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Assign a template from your current theme to define how a single item is displayed"))},null,8,Pt)])]),t("div",qt,[t("div",Rt,[t("div",At,[t("h2",{textContent:o(e.translate("CSS Classes"))},null,8,Dt)])]),t("div",Lt,[t("label",{textContent:o(e.translate("CSS custom class")),class:"form-label"},null,8,Nt),f(r,{onCallback:d[1]||(d[1]=n=>{e.activeItem.field?e.activeItem.field.class=n:e.activeItem.field=n,console.log(n)}),item:e.activeItem.field??{},column:{required:!1,key:"class",title:e.translate("Class"),column_type:"text",column_key:"class"}},null,8,["item","column"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Assign one or more css class to this page to define the style"))},null,8,jt)])])]),t("div",Mt,[t("ul",Ft,[(a(!0),s(g,null,p(e.tabs,n=>(a(),s("li",Gt,[t("a",{class:x(["nav-link text-active-primary pb-4",n==e.activeTab?"active":""]),onClick:l=>e.activeTab=n,href:"javascript:;",textContent:o(n)},null,10,zt)]))),256))]),t("div",Bt,[e.activeTab==e.translate("General")?(a(),s("div",Ht,[t("div",Jt,[t("div",Kt,[t("div",Qt,[t("div",Wt,[t("h2",{textContent:o(e.translate("General"))},null,8,Xt)]),t("ul",Yt,[(a(!0),s(g,null,p(c.langs,n=>(a(),s("li",{class:"text-lg flex py-5 gap-2 cursor-pointer",onClick:l=>e.seoLang=n.language_code},[t("img",{src:n.icon,class:"rounded-full w-10 h-10 border-1 border border-gray-600 p-1"},null,8,$t),t("a",{href:"javascript:;",class:x(n.language_code==e.seoLang?"text-danger font-bold":"opacity-75 text-gray-400"),textContent:o(n.language_code)},null,10,te)],8,Zt))),256))])]),t("div",ee,[(a(!0),s(g,null,p(c.langs,n=>(a(),s("div",{key:e.seoLang},[n&&e.seoLang==n.language_code?(a(),s("div",ne,[t("div",oe,[t("label",ae,[t("span",{textContent:o(e.translate("Path"))},null,8,le),t("strong",{class:"px-4",textContent:o(n.name)},null,8,se)]),t("div",ce,[t("input",{disabled:!0,value:c.conf.url,class:"bg-gray-200 form-control-solid px-4"},null,8,ie),C(t("input",{type:"text","onUpdate:modelValue":l=>e.getLang(e.activeItem,n.language_code).prefix=l,class:"form-control form-control-solid"},null,8,de),[[b,e.getLang(e.activeItem,n.language_code).prefix]])]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("URL path for the item webpage"))},null,8,re)]),t("div",_e,[t("label",me,[t("span",{textContent:o(e.translate("Name"))},null,8,he),t("strong",{class:"px-4",textContent:o(e.translate(n.language_code))},null,8,ve)]),C(t("input",{type:"text",class:"form-control mb-2","onUpdate:modelValue":l=>e.activeItem.content_langs[n.language_code].title=l},null,8,ue),[[b,e.activeItem.content_langs[n.language_code].title]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Name is required and recommended to be unique"))},null,8,fe)]),t("div",null,[t("label",xe,[t("span",{textContent:o(e.translate("Content"))},null,8,ge),t("strong",{class:"px-4",textContent:o(e.translate(n.language_code))},null,8,pe)]),f(r,{column:{column_type:"editor",key:"content"},item:e.activeItem.content_langs[n.language_code],conf:c.conf},null,8,["item","conf"]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a description to the item for better visibility"))},null,8,Ce)])])):h("",!0)]))),128))])])])])):h("",!0),e.activeTab==e.translate("SEO")?(a(),s("div",be,[t("div",ye,[t("div",ke,[(a(!0),s(g,null,p(c.langs,n=>(a(),s("div",null,[e.seoLang==n.language_code?(a(),s("div",{key:n,class:"card card-flush py-4"},[t("div",we,[t("div",Ie,[t("h2",{textContent:o(e.translate("Meta Options"))},null,8,Se)]),t("ul",Te,[(a(!0),s(g,null,p(c.langs,l=>(a(),s("li",Ve,[y.key?(a(),s("div",{key:0,class:"text-lg flex gap-2 cursor-pointer",onClick:U=>e.seoLang=l.language_code},[t("img",{src:l.icon,class:"rounded-full w-10 h-10 border-1 border border-gray-600 p-1"},null,8,Ee),t("a",{href:"javascript:;",class:x(l.language_code==e.seoLang?"text-danger font-bold":"opacity-75 text-gray-400"),textContent:o(l.name)},null,10,Oe)],8,Ue)):h("",!0)]))),256))])]),n?(a(),s("div",Pe,[t("div",qe,[t("label",{class:"form-label",textContent:o(e.translate("Meta Tag Title")+" ("+n.name+")")},null,8,Re),C(t("input",{type:"text",class:"form-control mb-2",name:"meta_title",placeholder:e.translate("Meta tag name"),"onUpdate:modelValue":l=>e.activeItem.content_langs[n.language_code].seo_title=l},null,8,Ae),[[b,e.activeItem.content_langs[n.language_code].seo_title]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a meta tag title. Recommended to be simple and precise keywords")+" ("+n.name+")")},null,8,De)]),t("div",Le,[t("label",{class:"form-label",textContent:o(e.translate("Meta Tag Description"))},null,8,Ne),C(t("textarea",{"onUpdate:modelValue":l=>e.activeItem.content_langs[n.language_code].seo_desc=l,class:""},null,8,je),[[b,e.activeItem.content_langs[n.language_code].seo_desc]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a meta tag description to the item for increased SEO ranking"))},null,8,Me)]),t("div",null,[t("label",{class:"form-label",textContent:o(e.translate("Meta Tag Keywords"))},null,8,Fe),C(t("input",{id:"kt_ecommerce_add_item_meta_keywords",class:"form-control","onUpdate:modelValue":l=>e.activeItem.content_langs[n.language_code].seo_keywords=l},null,8,Ge),[[b,e.activeItem.content_langs[n.language_code].seo_keywords]]),t("div",{class:"text-muted fs-7",textContent:o(e.translate("Set a list of keywords that the item is related to. Separate the keywords by adding a comma <code>,</code> between each keyword"))},null,8,ze)])])):h("",!0)])):h("",!0)]))),256))])])])):h("",!0)]),t("div",Be,[t("a",{href:"javascript:;",onClick:d[2]||(d[2]=(...n)=>e.back&&e.back(...n)),class:"btn btn-light me-5",textContent:o(e.translate("Cancel"))},null,8,He),t("button",{onClick:d[3]||(d[3]=(...n)=>e.save&&e.save(...n)),class:"btn btn-primary"},[t("span",{class:"indicator-label",textContent:o(e.translate("Save Changes"))},null,8,Je)])])])])])):h("",!0)])])}const rn=A($,[["render",Ke]]);export{rn as default};
