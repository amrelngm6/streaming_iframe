<div class="px-2 lg:flex gap-10 pt-10">
	{% set customer = app.customer_auth %}
	{% include 'views/front/' ~ template ~ '/includes/studio_sidemenu.html.twig' %}

	<div class="text-primary">
		{% if customer.subscription.subscription_id %}
		<div class="sm:w-11/12 lg:w-3/4 mx-auto">
			<div class="bg-gradient-to-r  rounded-2xl overflow-hidden from-red-500 via-purple-400 to-blue-500"> 
				<div
					class="max-w-[85rem] px-4 py-4 sm:px-6 lg:px-8 mx-auto">
					<div class="grid justify-center md:grid-cols-2 md:justify-between md:items-center gap-2">
						<div class="text-center md:text-start">
							<p class="text-xs text-white/80 uppercase tracking-wider">
								{{lang.translate('Active subscription')}} : {{customer.subscription.package.name}}
							</p>
							<p class="mt-1 text-white font-medium">
								{{lang.translate('End date')}} : {{customer.subscription.end_date|date("M d, Y")}}.
							</p>
						</div>

						<div class="mt-3 text-center md:text-start md:flex md:justify-end md:items-center">
								
							<div x-data="{}" class="flex gap gap-10">
								<a href="/pricing"  class="ajax-load py-3 px-4 inline-flex items-center gap-x-2 text-sm font-medium rounded-full border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800 dark:focus:bg-gray-800" >
									{{lang.translate('Upgrade')}}
								</a>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
		{% endif %}

		<div class='ui block w-full mb-12 pb-12 lg:flex   dark:text-gray-100'>
			<div class='ui_box hover:bg-rose-600 w-full hover:text-gray-100 relative'>
				<div class='ui_box__inner p-10'>
					<h2>{{lang.translate('Audio items')}}</h2>
					<p>{{lang.translate('Stats of uploaded audio items')}}</p>
					<div class='stat text-6xl py-4'>
						<span>{{customer.audio_items|length}}</span>
					</div>
					<canvas id="myChart"></canvas>
				</div>
				<div class='drop bg-rose-800'>
					<p>
						<a href="/upload" class="ajax-load">{{lang.translate('Add New')}}</a>
					</p>
					<div class='arrow'></div>
				</div>
			</div>
			<div class='ui_box hover:bg-rose-600 hover:text-gray-100 w-full relative'>
				<div class='ui_box__inner p-10'>
					<h2>{{lang.translate('Audiobooks')}}</h2>
					<p>{{lang.translate('Stats of uploaded Audiobooks')}}</p>

					<div class='stat text-6xl py-4'>
						<span>{{customer.audiobooks|length}}</span>
					</div>
					<canvas id="myChart2"></canvas>

				</div>
				<div class='drop bg-rose-800'>
					<p>
						<a href="/upload/audiobook" class="ajax-load">{{lang.translate('Add New')}}</a>
					</p>
					<div class='arrow'></div>
				</div>
			</div>
			<div class='ui_box hover:bg-rose-600 hover:text-gray-100 w-full relative'>
				<div class='ui_box__inner p-10'>
					<h2>{{lang.translate('Videos')}}</h2>
					<p>{{lang.translate('Stats of uploaded Videos')}}</p>
					<div class='stat text-6xl py-4'>
						<span>{{customer.videos|length}}</span>
					</div>
					<canvas id="myChart3"></canvas>

				</div>
				<div class='drop bg-rose-800'>
					<p>
						<a href="/upload/video" class="ajax-load">{{lang.translate('Add New')}}</a>
					</p>
					<div class='arrow'></div>
				</div>
			</div>
		</div>
		<div class="w-full grid">

			<div class="grid grid-cols-12 gap-6 overflow-hidden">

				<div class="ltablet:col-span-6 rounded-lg bg-white rounded-lg shadow-md col-span-12 lg:col-span-6">
					<div class="nui-card nui-card-rounded-md nui-card-default h-full p-8"><!--[--><div class="flex h-full flex-col justify-between gap-y-6 sm:flex-row sm:gap-y-0">
							<div class="flex flex-col">
								<p class="nui-paragraph nui-paragraph-sm nui-weight-normal nui-lead-normal text-muted-400 mb-4">
									{{lang.translate('Welcome')}}
								</p>
								<h2 class="text-2xl text-muted-800 dark:text-muted-100">
									{{customer.name}}
								</h2>
								<p class="nui-paragraph nui-paragraph-sm nui-weight-normal nui-lead-normal text-muted-400 mb-6">
									{{lang.translate('Last login')}}
								</p>
								<div class="mt-auto flex flex-col items-center gap-2 sm:flex-row">
									<a href="/studio/profile" class="ajax-load nui-button nui-button-md nui-button-rounded-md nui-button-solid nui-button-primary w-full sm:w-auto">{{lang.translate('Settings')}}</a>
									|
									<a href="/artist/{{customer.customer_id}}" class="ajax-load w-full sm:w-auto">{{lang.translate('Profile')}}</a>
								</div>
							</div>
							<div class="flex flex-col">
								<p class="nui-paragraph nui-paragraph-sm nui-weight-normal nui-lead-normal text-muted-400 mb-4">
									{{lang.translate('Total plays')}}
								</p>
								<h5 class="nui-heading nui-heading-2xl nui-weight-semibold nui-lead-normal mb-6">
									543.120
									<!--]-->
								</h5>
								<div class="ms-auto mt-auto">
									<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 500 500" style="enable-background:new 0 0 500 500;" xml:space="preserve" class="shrink-0 text-muted-400 size-12">
										<g>
											<g>
												<defs>
													<path id="LOGOSVGID_1_" d="M228.4,181.2c59.6,0,107.8,48.3,107.8,107.8c0,59.6-48.3,107.8-107.8,107.8">
														c-59.6,0-107.8-48.3-107.8-107.8C120.6,229.5,168.8,181.2,228.4,181.2 M228.4,78c-116.5,0-211,94.5-211,211
																																																																																																		                                                                c0,116.5,94.5,211,211,211c116.5,0,211-94.5,211-211c0-25.2-4.4-49.5-12.6-71.9c-5.2-14.4-16.9-24.2-32-26.9
																																																																																																		                                                                c-45.1-7.9-82-39.7-97.1-81.9c-5.2-14.5-16.8-24.3-31.9-27C253.7,79.2,241.2,78,228.4,78z"></path>
												</defs>
												<use xlink:href="#LOGOSVGID_1_" clip-rule="evenodd" fill-rule="evenodd" fill="currentColor" class="overflow-visible"></use>
												<clipPath id="LOGOSVGID_2_">
													<use xlink:href="#LOGOSVGID_1_" class="overflow-visible"></use>
												</clipPath>
												<rect x="17.4" y="78" clip-path="url(#LOGOSVGID_2_)" width="422" height="422" fill="currentColor"></rect>
											</g>
											<g>
												<defs>
													<path id="LOGOSVGID_3_" d="M416.8,0c36.3,0,65.8,29.5,65.8,65.8c0,36.3-29.5,65.8-65.8,65.8c-36.3,0-65.8-29.5-65.8-65.8
																																																																																																		                                                                C351,29.5,380.5,0,416.8,0"></path>
												</defs>
												<use xlink:href="#LOGOSVGID_3_" clip-rule="evenodd" fill-rule="evenodd" fill="currentColor" class="overflow-visible"></use>
												<clipPath id="LOGOSVGID_4_">
													<use xlink:href="#LOGOSVGID_3_" class="overflow-visible"></use>
												</clipPath>
												<rect x="351" y="0" clip-path="url(#LOGOSVGID_4_)" width="131.6" height="131.6" fill="currentColor"></rect>
											</g>
										</g>
									</svg>
								</div>
							</div>
						</div><!--]--></div>
				</div>
				<div class="ltablet:col-span-6 rounded-lg col-span-12 lg:col-span-6 shadow-md bg-purple-700">
					<div class="nui-card nui-card-rounded-md nui-card-default !bg-primary-800 !border-primary-800 h-full p-8"><!--[--><div class="flex flex-col justify-between gap-y-16 sm:flex-row sm:gap-y-0">
							<div class="flex flex-col">
								<h2
									class="font mb-3 text-2xl text-white">
									<!--[-->
									{{lang.translate('Video Editor')}}
									<!--]-->
								</h2>
								<p class="main_font text-gray-200 mb-6">
									{{lang.translate('You can generate short video through the Video Editor with custom duration')}}
								</p>
								<a href="/shorts/create" class="ajax-load w-48 dark:text-gray-300 text-gray-100 float-right inline-block px-6 py-2 rounded-2xl border transition hover:border-rose-600 border-rose-400">{{lang.translate('Create Short video')}}
								</a>
							</div>
							<div class="relative min-h-[180px] min-w-[160px] shrink-0 h-48">
								<div class="absolute bottom-0 end-0 min-w-[250px] max-w-[250px]  sm:-end-16">
									<img src="/uploads/img/editor.webp"/>
								</div>
							</div>
						</div><!--]--></div>
				</div>
			</div>
		</div>
	</div>

</div>


<!-- Card Section -->
<div
	class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
	<!-- Grid -->
	<div
		class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
		<!-- Card -->
		<div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-900 dark:border-gray-700">
			<div class="p-4 md:p-5 flex gap-x-4">
				<div class="shrink-0 flex justify-center items-center size-[46px] bg-gray-100 rounded-lg dark:bg-gray-800">
					<svg class="shrink-0 size-5 text-gray-600 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
				</div>

				<div class="grow">
					<div class="flex items-center gap-x-2">
						<p class="text-xs uppercase tracking-wide text-gray-400 dark:text-gray-400">
							{{lang.translate('Profile visitors')}}
						</p>
					</div>
					<div class="mt-1 flex items-center gap-x-2">
						<h3 class="text-xl sm:text-2xl font-medium text-gray-800 dark:text-gray-100">
							{{customer.viewscount()}}
						</h3>
					</div>
				</div>
			</div>
		</div>
		<!-- End Card -->

		<!-- Card -->
		<div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-900 dark:border-gray-700">
			<div class="p-4 md:p-5 flex gap-x-4">
				<div class="shrink-0 flex justify-center items-center size-[46px] bg-gray-100 rounded-lg dark:bg-gray-800">
					<svg class="shrink-0 size-5 text-gray-600 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>
				</div>

				<div class="grow">
					<div class="flex items-center gap-x-2">
						<p class="text-xs uppercase tracking-wide text-gray-400 dark:text-gray-400">
							{{lang.translate('Media Likes')}}
						</p>
					</div>
					<div class="mt-1 flex items-center gap-x-2">
						<h3 class="text-xl font-medium text-gray-800 dark:text-gray-100">
							{{customer.limitedMedia(['audio', 'audiobook','video', 'short_video'], null).sum('likes_count')}}
						</h3>
					</div>
				</div>
			</div>
		</div>
		<!-- End Card -->

		<!-- Card -->
		<div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-900 dark:border-gray-700">
			<div class="p-4 md:p-5 flex gap-x-4">
				<div class="shrink-0 flex justify-center items-center size-[46px] bg-gray-100 rounded-lg dark:bg-gray-800">
					<svg class="shrink-0 size-5 text-gray-600 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"/><path d="m12 12 4 10 1.7-4.3L22 16Z"/></svg>
				</div>

				<div class="grow">
					<div class="flex items-center gap-x-2">
						<p class="text-xs uppercase tracking-wide text-gray-400 dark:text-gray-400">
							{{lang.translate('Media Comments')}}
						</p>
					</div>
					<div class="mt-1 flex items-center gap-x-2">
						<h3 class="text-xl sm:text-2xl font-medium text-gray-800 dark:text-gray-100">
							{{customer.limitedMedia(['audio', 'audiobook','video', 'short_video'], null).sum('comments_count')}}
						</h3>
					</div>
				</div>
			</div>
		</div>
		<!-- End Card -->

		<!-- Card -->
		<div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-900 dark:border-gray-700">
			<div class="p-4 md:p-5 flex gap-x-4">
				<div class="shrink-0 flex justify-center items-center size-[46px] bg-gray-100 rounded-lg dark:bg-gray-800">
					<svg class="shrink-0 size-5 text-gray-600 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12s2.545-5 7-5c4.454 0 7 5 7 5s-2.546 5-7 5c-4.455 0-7-5-7-5z"/><path d="M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/><path d="M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"/><path d="M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2"/></svg>
				</div>

				<div class="grow">
					<div class="flex items-center gap-x-2">
						<p class="text-xs uppercase tracking-wide text-gray-400 dark:text-gray-400">
							{{lang.translate('Media views')}}
						</p>
					</div>
					<div class="mt-1 flex items-center gap-x-2">
						<h3 class="text-xl font-medium text-gray-800 dark:text-gray-100">
							{{customer.limitedMedia(['audio', 'audiobook','video', 'short_video'], null).sum('views_sum_times')}}
						</h3>
					</div>
				</div>
			</div>
		</div>
		<!-- End Card -->
	</div>
	<!-- End Grid -->
</div>
<!-- End Card Section -->


<div class="w-full lg:flex gap gap-6  lg:p-8 p-4 lg:pt-0 text-primary">
	<div class="p-4 bg-gray-100 dark:bg-gray-900 w-full rounded-2xl shadow-md  mb-xl-8">
		<div class="card-header align-items-center border-0 mt-4">
			<h3 class="card-title align-items-start flex-col flex ">
				<span class="fw-bold text-gray-600 dark:text-gray-100 ">{{lang.translate('Top Audio')}}</span>
				<span class="text-muted mt-1 fw-semibold text-sm">{{lang.translate('Top uploaded Audio items')}}</span>
			</h3>

		</div>
		<div class="card-body pt-8">

			{% for item in customer.limitedMedia(['audio'], 5) %}

				<div class="flex align-items-sm-center mb-7 relative">
					<div class="flex w-full align-items-center gap-2 ">
						<img src="/stream?thumbnail=50&image={{item.picture_name}}" class="min-w-10 w-10  h-10 rounded-full">
						<div class="w-full flex-grow-1  relative">
							<span class="tooltiptext wide">{{item.name}}</span>
							<div class="max-w-72 truncate">
								<a href="/audio/{{item.media_id}}" class="ajax-load  text-gray-600 dark:text-gray-400  fw-bold text-hover-primary fs-6">{{item.name}}</a>
							</div>
							<div class="flex w-full gap-4 pt-1">
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Likes')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'white-heart' : 'heart'}}.svg"/>
									<span class="pt-1" >{{item.likescount()}}</span>
								</span>
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Views')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'views-white' : 'views'}}.svg"/>
									<span class="pt-1" >{{item.viewscount()}}</span>
								</span>
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Comments')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'comments-white' : 'comments'}}.svg"/>
									<span class="pt-1" id="comments-">{{item.commentscount()}}</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
	<div class="p-4 bg-gray-100 dark:bg-gray-900 w-full rounded-2xl shadow-md  mb-xl-8">
		<div class="card-header align-items-center border-0 mt-4">
			<h3 class="card-title align-items-start flex-col flex ">
				<span class="fw-bold text-gray-600 dark:text-gray-100 ">{{lang.translate('Top Videos')}}</span>
				<span class="text-muted mt-1 fw-semibold text-sm">{{lang.translate('Top uploaded videos items')}}</span>
			</h3>

		</div>
		<div class="card-body pt-8 ">

			{% for item in customer.limitedMedia(['video'], 5) %}

				<div class="flex align-items-sm-center mb-7 relative">
					<div class="flex w-full align-items-center gap-2"><img src="/stream?thumbnail=50&dir=videos/screenshots&image={{item.picture_name}}" class="min-w-10 w-10  h-10 rounded-full">
						<div class="w-full flex-grow-1  relative">
							<span class="tooltiptext wide">{{item.name}}</span>
							<div class="max-w-72 truncate">
								<a href="/video/{{item.media_id}}" class="ajax-load  text-gray-600 dark:text-gray-400  fw-bold text-hover-primary fs-6">{{item.name}}</a>
							</div>
							<div class="flex w-full gap-4 pt-1">
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Likes')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'white-heart' : 'heart'}}.svg"/>
									<span class="pt-1" >{{item.likescount()}}</span>
								</span>
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Views')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'views-white' : 'views'}}.svg"/>
									<span class="pt-1" >{{item.viewscount()}}</span>
								</span>
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Comments')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'comments-white' : 'comments'}}.svg"/>
									<span class="pt-1" id="comments-">{{item.commentscount()}}</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
	<div class="p-4 bg-gray-100 dark:bg-gray-900 w-full rounded-2xl shadow-md  mb-xl-8">
		<div class="card-header align-items-center border-0 mt-4">
			<h3 class="card-title align-items-start flex-col flex ">
				<span class="fw-bold text-gray-600 dark:text-gray-100 ">{{lang.translate('Top Audiobooks')}}</span>
				<span class="text-muted mt-1 fw-semibold text-sm">{{lang.translate('Top uploaded audiobooks items')}}</span>
			</h3>
		</div>
		<div class="card-body pt-8">
			{% for item in customer.limitedMedia(['audiobook'], 5) %}

				<div class="flex align-items-sm-center mb-7 relative">
					<div class="flex w-full align-items-center gap-2">
						<img src="/stream?thumbnail=50&image={{item.picture_name}}" class="min-w-10 w-10  h-10 rounded-full">
						<div class="w-full flex-grow-1  relative">
							<span class="tooltiptext wide">{{item.name}}</span>
							<div class="max-w-72 truncate">
								<a href="/audiobook/{{item.media_id}}" class="ajax-load  text-gray-600 dark:text-gray-400  fw-bold text-hover-primary fs-6">{{item.name}}</a>
							</div>
							<div class="flex w-full gap-4 pt-1">
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Likes')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'white-heart' : 'heart'}}.svg"/>
									<span class="pt-1" >{{item.likescount()}}</span>
								</span>
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Views')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'views-white' : 'views'}}.svg"/>
									<span class="pt-1" >{{item.viewscount()}}</span>
								</span>
								<span class=" cursor-pointer text-sm flex gap-2 relative">
									<span class="tooltiptext  text-xs">{{lang.translate('Comments')}}</span>
									<img class="w-5" src="/src/front_assets/svg/{{ app.is_dark ? 'comments-white' : 'comments'}}.svg"/>
									<span class="pt-1" id="comments-">{{item.commentscount()}}</span>
								</span>
							</div>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
</div>
{% include 'views/front/' ~ app.SystemSetting.template ~ '/scripts/studio_charts.html.twig' %}


